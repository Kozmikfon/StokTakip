@model StokTakip.Entities.Dtos.IrsaliyeDtos.IrsaliyeDto
@using StokTakip.Entities.Enums
@{
    ViewData["Title"] = "Print";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>İrsaliye Yazdır - @Model.irsaliyeNo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-size: 12px;
        }

        .wrap {
            width: 800px;
            margin: 0 auto;
        }

        h2 {
            margin: 8px 0;
        }

        .meta {
            border: 1px solid #000;
            padding: 8px;
            margin-bottom: 12px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #000;
            padding: 6px;
            text-align: right;
        }

            th:first-child, td:first-child {
                text-align: left;
            }

        .total {
            font-weight: bold;
        }

        .muted {
            color: #666;
            font-size: 11px;
        }

        .badge {
            padding: 2px 6px;
            border: 1px solid #000;
            font-size: 11px;
        }
    </style>
</head>
<body onload="window.print()">
    <div class="wrap">
        <h2>
            İrsaliye (@Model.irsaliyeNo)
            <span class="badge">@((Model.durum == IrsaliyeDurumu.Onayli) ? "Onaylı" : "Taslak")</span>
        </h2>

        <div class="meta">
            <div><strong>Cari:</strong> @(Model.cariAd ?? Model.carId.ToString())</div>
            <div><strong>Depo:</strong> @(Model.depoAd ?? Model.depoId.ToString())</div>
            <div><strong>Tarih:</strong> @Model.irsaliyeTarihi:g</div>
            <div><strong>Tip:</strong> @Model.irsaliyeTipi</div>
            <div><strong>Açıklama:</strong> @Model.aciklama</div>
        </div>

        <table>
            <thead>
                <tr>
                    <th>Malzeme</th>
                    <th>Miktar</th>
                    <th>Birim Fiyat</th>
                    <th>Ara Toplam</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var d in Model.Detaylar)
                {
                    <tr>
                        <td>@(d.malzemeAd ?? d.malzemeId.ToString())</td>
                        <td>@d.miktar</td>
                        <td>@d.birimFiyat</td>
                        <td>@d.araToplam</td>
                    </tr>
                }
            </tbody>
            <tfoot>
                <tr class="total">
                    <td colspan="3">Genel Toplam</td>
                    <td>@Model.toplamTutar?.ToString("0.00")</td>
                </tr>
            </tfoot>
        </table>

        <p class="muted">Oluşturma: @Model.CreatedTime  |  Güncelleme: @Model.ModifiedTime</p>
    </div>
</body>
</html>

